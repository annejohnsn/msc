\section{Ultrametric basics}

The principal context for this thesis is an arbitrary ultrametric space, which is a metric space that also satisifies an additional axion, sometimes called the ultrametric inequality or (in the case of vector spaces) the strong triangle propery. We define  ultrametric spaces below and for the rest of this section, we review some of their more important properties. The proofs offered in this section are, for the most part, standard and can be found in a number of reference texts, such as \cite{ar}.\\

\begin{definition}
	 Let $(M, \rho)$ be a metric space; that is, suppose $M$ is a set and $\rho$ is a map, $\rho: M \times M \rightarrow \mathbb{R}_{\geq 0}$ such that:
	\begin{enumerate}[(i)]
		\item $\rho(x,y) = 0$ if and only if $x=y$
		\item $\rho(x,y) = \rho(y,x)$
		\item $\rho(x,z) \leq \rho(x,y) + \rho(y,z)$
	\end{enumerate}
	for any $x,y,z \in M$. If $\rho$ also satisfies the ultrametric inequality,	
		\[ \rho(x,z) \leq \max{(\rho(x,y), \rho(y,z))}\]
for any $x,y,z \in M$, then $(M, \rho)$ is an \textbf{ultrametric space}.
\end{definition}

A special case of an ultrametric space, and one where much of the previous work on this topic has been completed, is one where the metric has been derived from a norm on a vector space. \\

\begin{definition}
	 Let $(V, N)$ be a normed vector space; that is, suppose $V$ is an $\mathbb{F-}$vector space, for $\mathbb{F}$ some subfield of $\mathbb{C}$, and $N: V \rightarrow \mathbb{R}_{\geq 0}$  is such that:
	\begin{enumerate}[(i)]
		\item $N(x +y ) \leq N(x) + N(y)$
		\item $N(cx) = \lvert c \rvert \text{ } N(X)$
		\item $N(x) = 0$ implies $x=0$
	\end{enumerate}
	for any $x,y \in V$ and $c \in \mathbb{F}$. We say that $N$ satisfies the \textbf{strong trianlge inequality} if
	\[ N(x + y) \leq \max(N(x), N(y)) \]
	for any $x,y \in V$.
\end{definition}

\begin{proposition}
	Let $(V,N)$ be a normed vector space and suppose $N$ satisfies the strong triangle inequality. Then the metric space $(V,\rho_N)$, where $\rho_N$ is the metric induced by $\rho_N(x,y) = N(x-y)$, is an ultrametric space.
\end{proposition}

\begin{proof}
We take for granted that  $(V,\rho_N)$ is a metric space and also note that 
\[N(x + z) \leq \max(N(x), N(z))\]
 implies  
\[\rho_N(x,z) \leq \max(\rho_N(x,0), \rho_N(z,0)) \leq \max(\rho_N(x,y), \rho_N(y,z))\]
\end{proof}

\begin{notation*}
 If $(V, N)$ is a normed vector space, then the metric induced by $N$ will be denoted $\rho_N$.
\end{notation*}

When ultrametric spaces come from spaces with algebraic structure, such as normed vector spaces, some of this structure carries over into metric spaces structure in a rather nice way:\\

\begin{proposition}
\cite{ar} Let $S$ be a  group equipped with a (right) invariant ultrametric, $\rho$. If $B=B(0,r)$ is a (closed) ball centred at the neutral element of $S$, that is $B=\{x \in S; \rho(x,0) \leq r\}$, then $B$ is a subgroup of $S$.
\end{proposition}

\begin{proof}
Let $x,y \in B$. Then \[\rho(x-y,0) = \rho(x,y)  \leq \max(\rho(x,0), \rho(y,0)) \leq r,\]
so that $x-y \in B$.
\end{proof}
 
In the previous chapter, we claimed that the $p-$adic metric was an ultrametric on the set $\mathbb{Z}$. Indeed, $(\mathbb{Z}, \rho_p)$ and the closely related space of $p-$adic integers, denoted $\widehat{\mathbb{Z}_p}$, are the canonical examples of an ultrametric space. \\

\begin{example} 
Let $p$ be any prime and consider the metric space $(\mathbb{Z}, \rho_p)$. To see that $(\mathbb{Z}, \rho_p)$ is an ultrametric space, we must show that $\rho_p$ satisfies the ultrametric inequality, or equivalently, that $p-$adic absolute value satisfies the strong triangle inequality. Let $x,y$ be in $\mathbb{Z}$ and suppose $v_p(x)= n_x$ and $v_p(y)= n_y$. Then if $n=\min(n_x,n_y)$, $p^n $ divides $x$ and $p^n$ divides $y$, so $p^n$ divides $x +y$. We see now that $v_p(x+y) \geq \min(v_p(x),  v_p(y))$ and in turn $\lvert x + y \rvert_p \leq \max(\lvert x \rvert_p, \lvert y \rvert_p)$.
\end{example}

\begin{example}
Let $p$ be any prime. If 
\[z = \sum_{i \geq 0} b_ip^i\]
is such that $b_i \in \{0,\ldots,p-1\}$ for all $i$, then we say that $z$ is a \textbf{$p-$adic integer}. If $z = \sum_{i \geq 0} b_ip^i$, we note that if only a finite number of the coefficients of $z$ are non-zero, then $\sum_{i \geq 0} b_ip^i$ is a representation in base $p$ of some element of $\mathbb{Z}$. We can define the \textbf{$p-$adic order} of a $p-$adic integer, denoted $ord_p(z)$, in a way that agrees with the $p-$adic valuation when $\sum_{i \geq 0} b_ip^i$ is in $\mathbb{Z}$. We let $ord_p(z)$ be the smallest $i$ such that $b_i \neq 0$. The $p-$adic integers are both a ring\footnote{The ring operations carry over on the coefficients of $p-$adic integers in the expected way from $\mathbb{Z}/p\mathbb{Z}$, as long as special care is taken to keep track of carries.} and an ultrametric space with the metric induced by $ord_p(z)$. For a given prime, $p$, we denote the $p-$adic integers by $\widehat{\mathbb{Z}_p}$.
\end{example} 

In what follows, we will often refer to $p-$adic spaces and it will not make much of a difference whether the reader prefers to think of being in $(\mathbb{Z}, \rho_p)$ or $\widehat{\mathbb{Z}_p}$. The reason is this: when forming $\rho_p-$orderings of subsets of either space we are always able to do so by selecting elements with finite number of non-zero coefficients, that is, by selecting elements from $\mathbb{Z}$ itself. \\

Ultrametric spaces exhibit many properties unlike those of traditional metric spaces, and we review of few of these below. Of particular interest to us is the behavior between (closed) balls in an ultrametric space. \\

\begin{notation*}
	Let $(M, \rho)$ be a compact ultrametric space and let \[B(a, r)=\{x \in M \mid \rho(x,a) \leq r\}\] denote the \textit{closed} ball of radius $r$, centred at $a$ for some $r \in \mathbb{R}_{> 0}$ and $a \in (M,\rho)$. Let \[B^0(a, r)=\{x \in M \mid \rho(x,a) < r\}\] denote the \textit{open} ball of radius $r$, centred at $a$ for some $r \in \mathbb{R}_{> 0}$ and $a \in (M,\rho)$.
\end{notation*} 


In the above notation, we break with  convention in that we denote a closed ball without using any decoration. This is because before too long we will work exclusively with closed balls.  We are able to do this because for the most part, the notion of open and closed ball in an ultrametric space overlap, although we will need a few more facts before showing this.\\

\begin{definition}
Let $S$ be a subset of an ultrametric space. The \textbf{diameter of $S$} is $diam(S) = \sup\limits_{x,y\in S}\rho(x,y)$. Note that if $S$ is compact, $diam(S) = \max\limits_{x,y\in S}\rho(x,y)$.
\end{definition}

\begin{proposition}
	Let $B=B(a, r)$ be a ball in an ultrametric space $(M,\rho)$. Then the diameter of $B$ is less than or equal to the radius of $B$.    
\end{proposition}

\begin{proof}
Suppose $d = diam(B) > r$. This would imply there exists $x,y$ in $B$ such that $\rho(x,y) > r$, in particular $\rho(x,y)$ is strictly greater than $\max(\rho(x,a), \rho(y,a))$, which is a contradiction since $\rho$ is an ultrametric.
\end{proof}
 
The following example shows that we can obtain a strict inequality in the above proposition.

\begin{example}
	Let $M$ be a non-empty set. Let $\rho$ be the ultrametric given by, 
	\[
	\rho(x,y) = 
	\begin{cases}
		0, & \text{ if x=y} \\
		1, & \text{ if x } \neq \text{ y}
	\end{cases}
	\]
for $x,y \in M$. Then $B(x, \frac{1}{2})$ has radius $\frac{1}{2}$ and diameter $0$ for any $x$ in $M$.
\end{example}

In the following proposition, we describe the triangles in an ultrametric space, and the result is more or less a restatement, in geometric terms, of the ultrametric inequality.\\

\begin{proposition}
	 All triangles in an ultrametric space $(M,\rho)$ are either equilateral or isosceles, with at most one short side. 
\end{proposition}

\begin{proof}
Let $x,y$, and $z$ be three points in an ultrametric space $(M,\rho)$. We show that $\rho(x,y) \neq \rho(x,z)$ and $\rho(x,y) \neq \rho(y,z)$ implies $\rho(x,y) < \rho(x,z) = \rho(y,z)$.\\

If $\rho(x,z) \neq \rho(y,z)$, then without loss, $\rho(x,z) > \rho(y,z)$. At the same time, the ultrametric inequality implies $\rho(x,y) \leq \max(\rho(x,z), \rho(y,z))$ and  $\rho(y,z) \leq \max(\rho(x,y), \rho(x,z))$. The first inequality implies $\rho(x,y) < \rho(x,z)$, which means the second inequality implies $\rho(y,z) < \rho(x,z)$. This is a contradiction, so we must have $\rho(x,z) = \rho(y,z)$.\\

To see that $\rho(x,y) < \rho(x,z)$, simply note that $\rho(x,y) \leq \max(\rho(x,z), \rho(y,z))$
\end{proof}

With this result in hand, we are able to quickly demonstrate some of the properties of balls, which are of fundamental importance to us. We see below that the ultrametric inequality, perhaps innocuous on the surface, quickly implies ultrametric balls are markedly different from their Archimedean counterparts.\\

\begin{proposition}
 Every point of a ball in an ultrametric is at its centre. That is, if $B(x_0, r)$ is a ball in an ultrametric space $(M,\rho)$, then $B(x, r)=B(x_0, r)$,  $\forall x \in B(x_0, r)$
\end{proposition}

\begin{proof}
Let $a \in B(x, r)$. Then $\rho(a,x) \leq r$ and since \[\rho(a,x_0) \leq \max(\rho(a,x), \rho(x,x_0)) \leq r\] we must have $a \in B(x_0, r)$ and  $B(x, r) \subseteq B(x_0, r)$ A similar argument shows $B(x_0, r) \subseteq B(x, r)$.
\end{proof}

\begin{proposition}
	If $(M, \rho)$ is an ultrametric space and $B(x_0, r_1)$ and $B(y_0, r_2)$ are balls in $(M, \rho)$, then either $B(x_0, r_1) \cap B(y_0, r_2) = \emptyset$, $B(x_0, r_1) \subseteq B(y_0, r_2)$, or $B(x_0, r_1) \subseteq B(x_0, r_1)$. That is, in an ultrametric space, all balls are either comparable or disjoint.
\end{proposition}

\begin{proof}
Suppose $B(x_0, r_1) \cap B(y_0, r_2) \neq \emptyset$ and let $z$ be a point in the intersection. We show that if there exists an $a \in B(y_0, r_2)$ such that $a \notin B(x_0,r_1)$, then $B(x_0, r_1) \subseteq B(y_0, r_2)$. Let $x \in B(x_0, r_1)$. Then we must have $\rho(x,z) < \rho(x,a)$, since $z \in B(x_0, r_1) = B(x,r_1)$ and $a$ is not. Since the triangle with vertices $(a,x,z)$ is isocolces with at most one short side, we must have $\rho(x,a) = \rho(a,z) \leq r_2$, since $a \in B(y_0, r_1) = B(z,r_2)$. Then $x \in B(y_0, r_1)$. 
\end{proof}

\begin{proposition}
 The distance between points in  two non-overlapping balls in an ultrametric is constant. That is, if $B(x_0, r_1)$ and $B(y_0, r_2)$ are two balls in an ultrametric space with $B(x_0, r_1) \cap B(y_0, r_2) = \emptyset$, then there exists a $c \in \mathbb{R}_{> 0}$ such that  $\rho(x,y)=c$, $\forall x \in B(x_0, r_1)$ and $\forall y \in B(y_0, r_2)$.
\end{proposition}

\begin{proof}
Suppose $\rho(x_0, y_0)=c$ and let $x \in B(x_0, r_1)$ and $y \in B(y_0, r_2)$ be arbitrary. Consider the triangle formed by $(x_0, y_0,y)$. Since $\rho(x_0,y_0)=c$ and  $\rho(y,y_0) \leq r_2 < c$, we must have $\rho(x_0, y)=c$ because triangles in an ultrametric space have at most one short side. Now consider the triangle formed by  $(x_0, x,y)$. Since $\rho(x_0, y)=c$ and  $\rho(x,x_0) \leq r_1 < c$, we must have $\rho(x, y)=c$.
\end{proof}

We will get a bit closer to showing the relationship between open and closed balls with the following results and will pick up a few other useful facts along the way. We start with another definition.\\

\begin{definition}
	If $(M, \rho)$ is an ultrametric space, then for $x_0 \in M$ and $r \in \mathbb{R}_{> 0 }$, \[S(x_0,r) = \{x \in M; \rho(x,x_0) =r \}\] is the \textbf{sphere of radius $r$ at $x_0$}.
\end{definition}

\begin{lemma}
 (\cite{ar}) Spheres (of positive radius) in an ultrametric space are both open and closed as sets.
\end{lemma}

\begin{proof}
	\cite{ar} A sphere in any metric space is closed, so we need only show a sphere is also open in an ultrametric space. We show a sphere, $S=S(x_0,r)$, is equal to a union of open sets, $S = \cup_{x\in S} B^0(x,r)$.\\
	
	Let $B=B^0(x,s)$ be an open ball that does not contain some $x_0$. Let $r=\rho(x_0,x)$. We must have $r \geq s$, so then (since all triangles are isosocles) every point in $B$ lies in $S(x_0,r)$, that is $B \subseteq S(x_0,r)$. Then for any $x \in S(x_0,r)$, $B^0(x,r) \subseteq S(x_0,r)$ and \[\bigcup_{x \in S(x_0,r)} B^0(x,r) \subseteq S(x_0,r)\] The reverse inequality is clear since the union is taken over points of $S$.
\end{proof}

\begin{proposition}
	(\cite{ar}) The open balls in an ultrametric space are closed sets and the closed balls are open sets.
\end{proposition}

\begin{proof}
	The proof follows immediately from the result that spheres are both open and closed: to see that closed balls are open sets, note that for a closed ball, $B(x_0,r)$, \[B(x_0,r) = B^0(x_0,r) \cup S(x_0,r)\] Likewise, to see that open balls are closed sets, note that \[B^0(x_0,r) = B(x_0,r) \setminus S(x_0,r)\]
\end{proof}
The following proposition is now easy to see, although the result is both unintuitive and important for our purposes. \\

\begin{proposition}
Suppose $S$ is a compact subset of an ultrametric space $(M, \rho)$ and that $\cup_{i \in I} B(x_i,r_i)$ is a cover of $S$ by closed balls in $S$. Then there exists $i_1,\ldots, i_n$, a finite subset of $I$, such that  $\cup_{j=1}^{j=n} B(x_{i_j},r_{i_j})$ is a partition of $S$.
\end{proposition}

\begin{proof}
Since $S$ is compact and $\rho$ is an ultrametric, $\cup_{i \in I} B(x_i,r_i)$ is an open cover and contains a finite subcover of $S$. Say this subcover is given by the elements  $i_1,\ldots, i_{n'} \in I$, and suppose this is not a partition. That is, suppose for some $i_i, i_j$, $ B(x_{i_i},r_{i_i}) \cap  B(x_{i_j},r_{i_j}) \neq \emptyset$. Then, without loss of generality, we must have $ B(x_{i_i},r_{i_i}) \subseteq  B(x_{i_j},r_{i_j})$, so that the removal of $ B(x_{i_i},r_{i_i})$ is still a cover of $S$. We continue this process a finite number of times, since the subcover was finite to begin with, to arrive at a finite partition of $S$.
\end{proof}

In fact, a slightly stronger statement then the above is true:\\

\begin{corollary}
Suppose $S$ is a compact subset of an ultrametric space $(M, \rho)$ and that $B(x_0,r)$ is a closed ball in $S$. Then, there exists a finite partition of $S$ having $B(x_0,r)$ as an element.
\end{corollary}

\begin{proof}
Let $\mathcal{C}$ be the cover of $S$ given by $\cup_{x\in S} B(x,r) \cap S$. From the proposition, we can select a finite subcover of $\mathcal{C}$ that is a partition of $S$. Suppose $B(y,r) \cap S$ is the element in this partition containing $x_0$. Then  since $B(y,r)$ and $B(x_0,r)$ are equal in $M$, $B(y,r) \cap S = B(x_0,r) \cap S = B(x_0,r)$.
\end{proof}

We end this section by making a few comments about the set of distances that occur between the points of a compact ultrametric space.\\

\begin{proposition}
(\cite{ar}) Let $S$ be a compact subset of an ultrametric space, $(M, \rho)$
\begin{enumerate}[(i)]
\item For $m \in (M \setminus S)$, let $f_m:S \rightarrow \mathbb{R}$, be the function defined by $f_m(s) = \rho(m,s)$. Then $Im(f_m)$ is finite for all $m \in (M \setminus S)$.
\item For $a \in S$, let $\phi_a: S \setminus \{a\} \rightarrow \mathbb{R}$ be the function defined by $\phi_a(x)=\rho(x,a)$. Then $Im(\phi_a)$ is a discrete subset of $\mathbb{R}$ for all $a \in S$.
\end{enumerate}
\end{proposition}

\begin{proof}
(\cite{ar}) 
\begin{enumerate}[(i)]
\item The fibers of $f_m$, $f_m^{-1}(s)$, for $s \in S$, form a cover of $S$. In fact, they form an open partition. Since $S$ is compact by assumption, we must have that this partition is finite, and so the image of $f_m$ was also finite.
\item Let $\epsilon >0$. Let $B^0(a,\epsilon)$ be the open ball, $B^0(a,\epsilon)= \{x \in S; \rho(x,\epsilon) < \epsilon\}$. Then $(S\setminus B^0(a,\epsilon))$ is compact, and so from the above we know that $\phi_{a}$ restricted to $(S\setminus B^0(a,\epsilon))$ has finite range (let $M = S$ and $S = (S\setminus B^0(a, \epsilon))$ and apply (\textit{i})). Then the sets \[ [\epsilon, \infty) \cap \{\rho(s,a); s \in S, x \neq a\} \] are finite and $Im(\phi_a)$ is discrete.
\end{enumerate}
\end{proof}

This leads to the following definition.\\

\begin{definition}
If $(M, \rho)$ is an ultrametric space, we say $M$ is \textbf{discretely-valued} if the set $\Gamma_S = \{r \in \mathbb{R}; \exists x,y \in M \text{ such that } \rho(x,y)=r\}$ is a discrete subset of $\mathbb{R}$.
\end{definition}

All of the examples of ultrametric spaces that we see in this work, indeed all of the examples that we know of, are discretely-valued. In fact, if $M$ is a group with  a translation-invariant ultrametric then  $M$ is discretely-valued since the sets $\phi_a$ are then equal for all $a$ in $M$. Now we have the following question.\\

\begin{question}
	Are there mild conditions under which a compact ultrametric space is discretely-valued? In particular, are there conditions that do not appeal to some algebraic structure in $M$?
\end{question}

When this is the case, it will become useful to write the set of distances occuring in $S$ as a sequence, put in decreasing order.\\

\begin{notation*}
	If $S$ is a compact, discretely-valued ultrametric space, then we denote the set of distances between points of $S$ by 
	$$\Gamma_S = \{\gamma_0 = d =diam(S), \gamma_1, \gamma_2, \ldots, \gamma_\infty =0 \}$$
	
	where $\gamma_i \in  \Gamma_S$ if and only if $\exists x,y \in S$ such that $\rho(x,y) = \gamma_i$ and  $\gamma_i < \gamma_j$ if and only if $i > j$. 
\end{notation*}


%\begin{corollary}
%Let $(S,\rho)$ be a compact ultrametric space. If $\Gamma_S$ is the set of distances in $S$, that is, $\Gamma_S \subseteq \mathbb{R}_{\geq 0}$ and $r \in \Gamma_S$ if and only if $\exists x,y \in S$ such that $\rho(x,y)=r$, then $0$ is the only limit point in $\Gamma_S$. That is, $\Gamma_S \setminus 0$ is a discrete subset of $\mathbb{R}$.
%\end{corollary}

%\begin{proof}
%Suppose $\l\neq 0$ is a limit point of $\Gamma_S$. There there exists $b,x \in S$ such that $\rho(b,x) = l$ and for all $\epsilon >0$, there exists $a_\epsilon$ and $x_\epsilon$ such that $l - \epsilon <  \rho(a_\epsilon, x_\epsilon) < l + \epsilon$. Let us denote $\rho(a_\epsilon, x_\epsilon)$ by $l_\epsilon$.\\

%Let $\epsilon >0 $ and suppose $B(a_\epsilon, l_\epsilon) \cap B(b,l) \neq \emptyset$. Then, if $l_\epsilon < l$, we must have $B(a_\epsilon, l_\epsilon) \subset B(b,l)$, and so $\rho(a_\epsilon, b) \leq l$. Then $l \in Im(\phi_{a_\epsilon})$ by considering the triangle with vertices $a,b,x$. Since we know that $\phi_{a_\epsilon}$ has discrete image, we must have some $\epsilon$ such that $B(a_\epsilon, l_\epsilon) \cap B(b,l) = \emptyset$ (if $l_\epsilon > l$, then we consider the triangle with vertices $a_\epsilon, b, x_\epsilon$ and appeal to the fact that $\phi_{b}$ has discrete image).
%\end{proof}

We end this section with the following corollary.\\
\begin{corollary}
(\cite{ar}) Let $B(a, r)$ be a closed ball in an compact, discretely-valued ultrametric space. Then there exists $ r' > r \in \mathbb{R}$ such that $B(a, r) = \{x \in M \mid \rho(x,a) < r'\} $; that is, every closed ball is also an open ball with the same centre and  slightly larger radius.
\end{corollary}

%To make use of regularity in $S$ we should, before continuing, also put some constraints on our sequence of distances $\Gamma_S$.

%\begin{definition}
%Let $S$ be a compact subset of an ultrametric space and $\Gamma_S$ is the sequence of decreasing distances in $S$. Then we say $S$ is \textbf{well-behaved} (I guess - or tame? reasonable?), if $S$ is semi-regular and $\gamma_k = \alpha(k)^{c_k}$ for all $k \in \mathbb{N}$ and some $c_k \in \mathbb{Z}$.
%\end{definition}

%\begin{example}
%Any ultrametric space where $\rho$ is induced from a valuation domain.
%\end{example}

%Before moving on, we give another example of an ultrametric space, showing again the quick and unusal implications of Proposition $4$.\\

%\begin{example}
%Let $S$ be a compact subset of an rational ultrametric space, $(M,\rho)$, and let $\textbf{Triag}_S$ be the space whose points are the set of distinct (up to labeling) triangles in $S$. Note that these are uniquely identified by their (two) long and  (one) short sides, so we may represent a point in $\textbf{Triag}_S$ by an ordered pair $(a,b)$ where it is understood that $a\leq b$. We could then think of the points in $\textbf{Triag}_S$ as being points in some subset of a triangular region in the rational plane (bounded by the half-lines at $y=0$ (not included) and $x=y$ (included). 
%"In geometry and group theory, a lattice in R n {\displaystyle \mathbb {R} ^{n}} \mathbb {R} ^{n} is a subgroup of the additive group R n {\displaystyle \mathbb {R} ^{n}} \mathbb {R} ^{n} which is isomorphic to the additive group Z n {\displaystyle \mathbb {Z} ^{n}} \mathbb {Z} ^{n}, and which spans the real vector space R n {\displaystyle \mathbb {R} ^{n}} \mathbb {R} ^{n}."

%\end{example}
\section{$\rho$-orderings, $\rho$-sequences, and valuative capacity}

We are now in a position to give a general definition of $p-$orderings and in turn, $p-$sequences and valuative capacity. The observation that an analogous notion of $p-$ordering can be defined for a general ultrametric space, and that these structures coincide with Fekete $n-$tuples, is due to \cite{kj}. The exploration of this idea makes up the remainder of this work. \\ 

\begin{definition}
	\cite{kj} Let $S$ be a subset of an ultrametric space $(M,\rho)$. A \textbf{$\rho$-ordering} of $S$ is a sequence $\{a_i\}_{i \geq 0}$ in $S$ such that $a_0$ is arbitrary and $\forall n > 0$, $a_n$ maximizes \[\prod_{i=0}^{n-1} \rho(s,a_i)\] over $s \in S$. 
\end{definition}

The above generalizes the definition of $p-$orderings for $\mathbb{Z}$, since maximizing the $p-$adic distance between two points in $\mathbb{Z}$ (or $\widehat{\mathbb{Z}_p}$) is the same as minimizing the $p-$adic valuation of the difference of two points. In particular, $\{a_i\}_{i \geq 0}$ is a $p-$ordering of $S$, a subset of $\mathbb{Z}$, if and only if it is a $\rho_p$-ordering of $(S, \rho_p)$. Let us see an example of the simplest kind, i.e., for a finite set $S$.\\

\begin{example}
Suppose $S$ is the finite subset of $(\mathbb{Z}, \rho_2)$, given by $S=\{0,2,8,3\}$. Then a $\rho_2-$ordering of $S$ starts (arbitrarily) with $a_0=0$, which forces $a_1=3$, since $\rho_2(0,3)=1=diam(S)$. The sequence continues $a_2=2$ and $a_3=8$, but after this point the sequence becomes arbitrary because  $\prod_{i=0}^{n-1} \rho(s,a_i)$ will contain a $0$, given by the repeated term. Indeed, for any finite subset $S$ with $\lvert S \rvert = n$ the $\rho-$ordering of $S$ is arbitrary from the $n^{th}$ point on. 
\end{example}

We now give the definition of a $\rho-$sequence for an ultrametric space, generalizing the notion of a $p-$sequence.\\

\begin{definition}
	\cite{kj} Let $\{a_i\}_{i \geq 0}$ be a $\rho-$ordering of $S$. The \textbf{$\rho$-sequence} of $S$ is defined by letting $\delta(0)=1$  and for $n > 0$, \[\delta(n)=\prod_{i=0}^{n-1} \rho(a_n,a_i)\]
\end{definition}

The two propositions that follow are the critical observations. The first one tells us that we can use the $\rho-$sequence of $S$ as an invariant and the second one motivates the definition of valuative capacity. The proofs of each are given in $\cite{kj}$.\\

\begin{proposition}
	(\cite{kj}, Lemma 1) The $\rho$-sequence of $S$ is well-defined so long as $S$ is compact and $\rho$ is an ultrametric. That is, the $\rho$-sequence of a compact subset of an ultrametric spaces does not depend on the choice of $\rho$-ordering of $S$.
\end{proposition}

\begin{proposition} (\cite{kj}, Theorem 1)
If S is a compact subset of an ultrametric space $(M, \rho)$, then the first n terms of a $\rho$-ordering of $S$ give a Fekete $n$-tuple of $S$ and all Fekete $n$-tuples of $S$ arise in this way.
\end{proposition}

Armed with the notion of a well-defined $\rho-$sequence for an ultrametric space, and the knowledge that it gives a construction for Fekete $n-$tuples in that space, we define the valuative capacity of $S$, where $S$ is any compact subset of an ultrametric space.\\

\begin{definition}
	\cite{kj}  Let $S$ be a compact subset of an ultrametric space $(M,\rho)$ and let $\delta(n)$ be the $\rho$-sequence of $S$. The \textbf{valuative capacity} of $S$ is \[\omega(S)
	:= \lim_{n\to\infty} \delta(n)^{1/n}\]  
\end{definition}

We spend the rest of this chapter establishing some basic results on valuative capacity. These results form the start of our toolkit for calculating the capacities of specifics sets. They also show that many of the properties of capacity from $\mathbb{C}$ carry over to the non-Archimedean case in a natural way. \\

Let us assume from this point on that $S$ is always a compact subset of an ultrametric space, unless stated otherwise.\\ 

\begin{proposition}
	(\cite{kj}) $\omega(S)$ is finite. If $S$ itself is finite, then $\omega(S) =0$.
\end{proposition}

A compact set $E \subseteq \mathbb{C}$ is said to be polar if the logarithmic capacity of $E$ is $0$ \cite{rand}. Polar sets play a central role in potential theory and the theory of logarithmic capacity, which raises the following question:\\

\begin{question}
Are there ultrametric spaces that have some \textit{infinite} subset $S$ with $\omega(S)=0$?
\end{question}

We also have the expected result on monotoncity for valuative capacity:\\

\begin{proposition}
	(\cite{kj}, Lemma 4) If $S$ and $T$ are compact subsets of an ultrametric space such that $S \subseteq T$ then $\omega(S) \leq \omega(T)$. 
\end{proposition}

%\begin{proposition}
%	(upper bound) If $diam(S) = d$, then $\omega(S) < d$.
%\end{proposition}

%\begin{proof}
%	Since $d$ is the diameter of $S$, the $n^{th}$ term of the $\rho$-sequence of $S$ is bounded by $d^n$ and so $ \lim_{n\to\infty} \gamma(n)^{1/n}=d$ if, and only if, $\gamma(n)=d^n$, $\forall n$. This implies $\rho(a_n, a_i) = d$, $\forall n$ and $\forall i < n$, but then $\rho(a_i,a_j)=d$, $\forall i,j$, since the $\rho$-sequence is maximized at each $n$. This means $\omega(S) < d$ would imply that the cover of $S$, $\cup_{a_i} B_d(a_i)$ is in fact an infinite partition, contradicting the compactness of $S$. Then  $\omega(S)= \lim_{n\to\infty} \gamma(n)^{1/n}<d$. 
%\end{proof}

%This doesn't work because  $\cup_{a_i} B_d(a_i)$  could fail to be a cover - the $\rho-$ ordering will be a dense subset under mild conditions - then being compact should imply a contradiction since we should have $\overline{S}=S$ for $S$ compact.

We show now some results on the interaction between the algebraic structure of the space and valuative capacity. These results can be powerful tools for calculating capacities, in particular, when they are combined with the subadditivity result that follows.\\
 
\begin{proposition}
\label{translation invariance}
	(translation invariance) If $(M, \rho)$ is a compact ultrametric space and also a topological group for which $\rho$ is (left) invariant under the group operation, then $\omega$ is also (left)-invariant. That\ is, if $\rho(x,y)=\rho(g+x,g+y)$, $ \forall g,x,y \in M$, then $\omega(g+S)=\omega(S)$, for $S \subseteq M$.	
\end{proposition}

\begin{proof}
	Let $\{a_i\}_{i\geq 0}$ be a $\rho$-ordering for $S$. Then $\{g+a_i\}_{i\geq 0}$ is a $\rho$-ordering for $g+S$. Then \[\omega(g+S) = \lim_{n\to\infty} \delta(n)^{1/n} \]
	\[ = \lim_{n\to\infty} [\prod_{i=0}^{n-1} \rho(g+a_n,g+a_i)]^{1/n} \]
	\[=\lim_{n\to\infty} [\prod_{i=0}^{n-1} \rho(a_n,a_i)]^{1/n}	 = \omega(S) \]
\end{proof}	

\begin{example}
	Note that $\rho_p$ is translation invariant for each $p$ since for any $x,y$, we have $\rho_p(x,y) = p^{-v_p(x-y)} = p^{-v_p((a+x)-(a+y))} = \rho_p(a+x,a+y)$. Then $\omega(a+S) = \omega(S)$ for $S \subseteq (\mathbb{Z}_p, \rho_p)$.
\end{example}

\begin{proposition}
(scaling)	Let $(V, N)$ be a normed vector space and suppose $N$ satisfies the strong triangle identity, so that $(V,\rho_N)$ is an ultrametric space. Then if $N$ is multiplicative, so is $\omega$. That is, if $N(gx)=N(g)N(x)$,$\forall g,x \in V$, then $\omega(gS) = N(g)  \omega(S)$, for $g \in V$ and $S \subseteq M$. 
\end{proposition}

\begin{proof}
	Let $\rho_N$ be the metric induced by $N$, so that $\rho_N(x,y) = N(x-y), \forall x,y \in V$. Let $\{a_i\}_{i\geq 0}$ be a $\rho_N$-ordering for $S$ and let $u, v$ be in $gS$ with $u=gs_i$ and $v=gs_j$ for some $s_i, s_j \in S$. Then, since $N$ is multiplicative, \[\rho(u, v) = \rho(gs_i, gs_j) =N(gs_i - gs_j)\] 
	\[ = N(g(s_i - s_j)) = N(g)N(s_i - s_j) = N(g)\rho(s_i,s_j),\]
	so that $\{ga_i\}_{i\geq 0}$ is a $\rho_N$-ordering for $gS$. Then,
	
	$$\omega(gS) = \lim_{n\to\infty} [\prod_{i=0}^{n-1} \rho(ga_n,ga_i)]^{1/n} 
	= \lim_{n\to\infty} [\prod_{i=0}^{n-1} N(g)\rho(a_n,a_i)]^{1/n} $$
	$$= \lim_{n\to\infty} [N(g)^n\prod_{i=0}^{n-1} \rho(a_n,a_i)]^{1/n} = N(g) \lim_{n\to\infty} [\prod_{i=0}^{n-1} \rho(a_n,a_i)]^{1/n} = N(g) \omega(S)$$
\end{proof}


\begin{example}
	Since $\rho_p$ is multiplicative, we have that $\omega(mS) = \lvert m \rvert_p\cdot \omega(S)$ for $m \in \mathbb{Z}$ and $S \subseteq \mathbb{Z}$. In particular, $\omega(p\mathbb{Z}) = \frac{1}{p}\cdot \omega(\mathbb{Z})$. %= \frac{1}{p}\cdot p^{\frac{1}{1-p}} = p^{-p/p-1}.$
\end{example}

The following proposition is from \cite{kj}, where it is given for some $S$  written as the union of two subsets, although it is easily seen to be true for $S$ equal to any finite union, so long as the other assumptions remain satisfied.\\  

\begin{proposition}
	(\cite{kj}, Proposition 10) (subadditivity) If  $diam(S)=d$ and $S=\cup_i^n A_i$ for $A_i$ compact subsets of $M$ with $\rho(A_i, A_j)=d, \forall i,j$, then \[\frac{1}{log(\omega(S)/d) } = \sum_{i=1}^n \frac{1}{log(\omega(A_i)/d)}\] 
\end{proposition}


\begin{example}
We are now in a position to compute the valuative capacity of $(\mathbb{Z}, \rho_p)$. For any $p$, we note that $\mathbb{Z}$ can be decomposed into $p$ closed balls of radius $\frac{1}{p}$, which are equal to the cosets of $\mathbb{Z}$ modulo $p$. Since $diam(S)=1$, this gives 
\[\frac{1}{log(\omega(\mathbb{Z}))} = \sum_{i=0}^{p-1} \frac{1}{log(\omega(p\mathbb{Z} +i))} = \frac{p}{log(\omega(p\mathbb{Z}))} = \frac{p}{log(\frac{1}{p} \cdot \omega(\mathbb{Z}))}\]
Now we have,
%\[log(\omega(\mathbb{Z})) = \frac{log(\frac{1}{p} \cdot\omega(\mathbb{Z}))}{p}\] so that
\[log(\omega(\mathbb{Z})^p) = log(\frac{1}{p} \cdot\omega(\mathbb{Z}))\]
Since we have logs on both sides, we are able to use any base we like, so that,
\[\omega(\mathbb{Z})^p - \frac{\omega(\mathbb{Z})}{p} = 0 \]
and $\omega(\mathbb{Z})= p^{\frac{1}{1-p}}=p^{\frac{-1}{p-1}}$.
\end{example}

We can apply the same reasoning to any partition of $S$ made up of sets that all have the same capacity and meeting the requirement that their pairwise distances are all equal to the diameter of $S$.\\

\begin{corollary}
\label{semiregular}
	Suppose $S = \cup_i^n S_i$ with $\rho(S_i, S_j)=d=diam(S)$ and also $\omega(S_i)=\omega(S_j)$, $\forall i,j$ .  Let $r \in \mathbb{R}$ be such that $\omega(S_i)=r\omega(S)$, $\forall i$. Then $\omega(S) = r^{\frac{1}{n-1}}$. 
\end{corollary}

Now we note that a partition of $S$ into closed balls wil satisfy the hypotheses if the distance between each ball is equal to the diameter of $S$. In particular, if $B(x_i,r_i)$ is a collection of closed balls such that the pairwise-distance between any $B(x_i,r_i)$ and $B(x_j,r_j)$ is constant, then if we know the capacity of each $B(x_i,r_i)$, we can compute the capacity of their union. If $M$ is discretely-valued, then we can say more.\\ 
\begin{corollary}
	(Joins of computable sets are computable) Let $M$ be a compact, discretely-valued ultrametric space. Let $\Gamma_M = \{\gamma_0, \gamma_1,\ldots, \gamma_\infty=0\}$ be the set of distances in $M$. Suppose that $S = B(x, \gamma_i)$,  for some $x$ and $i$, is the union of $n \geq 2$ balls of radius $\gamma_{i+1}$, that is, $S=\cup_{j=1}^n B(x_j, \gamma_{i+1})$ is a join in the lattice of closed balls in $M$. Then 
	\[\frac{1}{log(\frac{\omega(B(x, \gamma_i))}{\gamma_{i+1}} )} = \sum_{j=1}^n \frac{1}{log(\frac{\omega(B(x_j, \gamma_{i+1}))}{\gamma_{i+1} })}\]
\end{corollary}

Of course, if $M$ is a group, then we know the elements in these partitions are cosets, and if the metric is translation-invariant, then they each have the same capacity. We take up this last corollary in significant detail in the next chapter, obtaining some formulae for valuative capacity with various restrictions on $\Gamma_M$ or related structures.